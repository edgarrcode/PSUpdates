<!DOCTYPE html>
<html>
<head>
<title>Analytics Reports: PeopleSoft Website</title>
<link rel="stylesheet" type="text/css" href="css/styles.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<!--Load the AJAX API-->
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
</head>

<body>
        <div class="header">
            <div class="containerFixed">
                <div class="utepLogo">
                    <img src="images/UTEPVPBAOffice.png" alt="UTEP Vice President for Business Affairs" title="UTEP Vice President for Business Affairs">
                </div><!-- /logo -->
                <div class="psUTShareLogosWrapper">
                  <div class="right"><p id="embed-api-auth-container"></p></div>
                </div><!-- /psUTShareLogosWrapper -->
            </div><!-- container -->
        </div><!-- /header -->
        <div class="navigation">
            <div class="containerFixed">
                <div class="mobileNavToggle">Menu</div>
                <div class="navigationBar">
                    <!-- Navigation is imported from the nav.html file -->
                    <ul class="nav">
                    </ul><!-- /nav -->
                    <div class="searchTabletToggle">
                        <span class="icon"></span>
                    </div><!-- /searchTabletToggle -->
                </div><!-- /navigationBar -->
            </div><!-- /container -->
        </div><!-- /navigation -->

<!-- Step 1: Create the containing elements. -->
<div class="pageTitle">
  <h1>PeopleSoft Website<br><span class="caption">June 2015 Analytics Report</span></h1>
</div><!-- /pageTitle -->
<div class="containerFixed">
  <div id="view-selector-container" style="display:none;"></div>
  <div class="card" style="height:650px;margin-top:30px;">
    <h2>Audience Overview</h2>
    <div id="chart-container"></div>
    <div id="chart-2-container"></div>
    <hr>
    <div class="alert">
      <p>The PeopleSoft website had <b>4,222 unique users</b> during the month of June.<br>These users generated <b>15,807 sessions</b> (<b>21.35%</b> of these sessions were created by new visitors), resulting in <b>32,122 page views</b>.<br><b>"Avg. Session Duration"</b> is measured in seconds.</p>
    </div>
  </div><!-- /card -->
  <hr class="clear">
  
  <div class="card">
    <h2>Browsers Used</h2>
    <div class="oneThird">
      <div id="chart_div1"></div>
    </div><!-- /oneThird -->
    <div class="twoThirds gridLast">
      <div id="chart-4-container"></div>
    </div><!-- /twoThirds gridLast -->
    <div class="clear"></div>
    <div>
      <hr>
      <p><b>Internet Explorer</b> was the most used browser by users.</p>
    </div>    
  </div><!-- /card -->
  <hr class="clear">

  <div class="card">
    <h2>Device Category (Desktop Vs. Mobile)</h2>
    <div class="oneThird">
      <div id="chart_div2"></div>
    </div><!-- /oneThird -->
    <div class="twoThirds gridLast">
      <div id="chart-6-container"></div>
    </div><!-- /twoThirds gridLast -->
    <div>
      <hr>
      <p><b>2.5%</b> of the traffic used a tablet or a mobile device (not a desktop computer).</p>
    </div>
  </div><!-- /card -->
  <hr class="clear">

  <div class="card">
    <h2>Networks Used</h2>
    <div>
      <p>#1 represents that <b>14,193 (89.79%)</b> of the sessions were by users in campus.</p>
    </div>
    <div id="chart-7-container"></div>
  </div><!-- /card -->
  <hr class="clear">

  <div class="card">
    <h2>Acquisition Overview</h2>
    <div class="oneThird">
      <div id="chart_div3"></div>
    </div><!-- /oneThird -->
    <div class="twoThirds gridLast">
      <div id="chart-9-container"></div>
    </div><!-- /twoThirds gridLast -->
    <hr>
    <p>
      <b>Direct traffic:</b> Users visited your site directly  when opening the browser window (they don't come from any other website).<br>
      <b>Organic Search:</b> The traffic that comes from search engines.<br>
      <b>Referral:</b> Traffic that comes from other websites.<br>
      <b>Social:</b> Traffic generated by social media channels such as Facebook and Twitter.<br>
    </p>
  </div><!-- /card -->
  <hr class="clear">

  <div class="card">
    <h2>Search Engine Keywords</h2>
    <div>
      <p>This list contains the exact search terms keyed in by users. Therefore, some of the list items are not spelled correctly.</p>
    </div>
    <div id="chart-10-container"></div>
  </div><!-- /card -->
  <hr class="clear">

  <div class="card">
    <h2>Top Pages</h2>
    <div id="chart-11-container"></div>
  </div><!-- /card -->

</div><!-- /container -->



<!-- Footers -->
<div class="backToTop scrollTopCirlce"><span>Back to Top</span></div>
<div id="footer1" class="mobileNo"></div><!-- /footer1 -->
<div id="footer2"></div><!-- /footer2 -->


<!-- Step 2: Load the library. -->

<script>
(function(w,d,s,g,js,fjs){
  g=w.gapi||(w.gapi={});g.analytics={q:[],ready:function(cb){this.q.push(cb)}};
  js=d.createElement(s);fjs=d.getElementsByTagName(s)[0];
  js.src='https://apis.google.com/js/platform.js';
  fjs.parentNode.insertBefore(js,fjs);js.onload=function(){g.load('analytics')};
}(window,document,'script'));
</script>

<script>

gapi.analytics.ready(function() {

  /**
   * Authorize the user immediately if the user has already granted access.
   * If no access has been created, render an authorize button inside the
   * element with the ID "embed-api-auth-container".
   */
  gapi.analytics.auth.authorize({
    container: 'embed-api-auth-container',
    clientid: '723665702051-idqmdl192pa68cmlak0ucj7uf96dfdmk.apps.googleusercontent.com',
  });


  /**
   * Create a new ViewSelector instance to be rendered inside of an
   * element with the id "view-selector-container".
   */
  var viewSelector1 = new gapi.analytics.ViewSelector({
    container: 'view-selector-container'
  });

  // Render the view selector to the page.
  viewSelector1.execute();


  /**
   * Create a new DataChart instance with the given query parameters
   * and Google chart options. It will be rendered inside an element
   * with the id "chart-container".
   */
   /* ------------ Audience Overview*/
  var dataChart1 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:date',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-container',
      type: 'LINE',
      options: {
        width: '100%'
      }
    }
  });

  var dataChart2 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:users,ga:sessions,ga:pageviews,ga:pageviewsPerSession,ga:percentNewSessions,ga:avgSessionDuration,ga:bounceRate',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-2-container',
      type: 'TABLE',
      options: {
        width: '100%'
      }
    }
  });

  /* ------------ Browsers Used */
  var dataChart3 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:browser',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-3-container',
      type: 'PIE',
      options: {
        width: '100%'
      }
    }
  });

  var dataChart4 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:browser',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-4-container',
      type: 'TABLE',
      options: {
        sort: 'enable',
        sortColumn: 1,
        sortAscending: false,
        showRowNumber: true,
        width: '100%'
      }
    }
  });

  var dataChart5 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:deviceCategory',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-5-container',
      type: 'PIE',
      options: {
        width: '100%'
      }
    }
  });

  var dataChart6 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:deviceCategory',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-6-container',
      type: 'TABLE',
      options: {
        sort: 'enable',
        sortColumn: 1,
        sortAscending: false,
        showRowNumber: true,
        width: '100%'
      }
    }
  });

  var dataChart7 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:networkLocation',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-7-container',
      type: 'TABLE',
      options: {
        sort: 'enable',
        sortColumn: 1,
        sortAscending: false,
        showRowNumber: true,
        page: 'enable',
        pageSize: 15,
        width: '100%'
      }
    }
  });

  var dataChart8 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:channelGrouping',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-8-container',
      type: 'PIE',
      options: {
        width: '100%'
      }
    }
  });

  var dataChart9 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:channelGrouping',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-9-container',
      type: 'TABLE',
      options: {
        sort: 'enable',
        sortColumn: 1,
        sortAscending: false,
        showRowNumber: true,
        width: '100%'
      }
    }
  });

  var dataChart10 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:sessions',
      dimensions: 'ga:keyword',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-10-container',
      type: 'TABLE',
      options: {
        sort: 'enable',
        sortColumn: 1,
        sortAscending: false,
        showRowNumber: true,
        page: 'enable',
        pageSize: 15,
        width: '100%'
      }
    }
  });

  var dataChart11 = new gapi.analytics.googleCharts.DataChart({
    query: {
      metrics: 'ga:pageviews',
      dimensions: 'ga:pageTitle',
      'start-date': '2015-06-01',
      'end-date': '2015-06-30',
    },
    chart: {
      container: 'chart-11-container',
      type: 'TABLE',
      options: {
        sort: 'enable',
        sortColumn: 1,
        sortAscending: false,
        showRowNumber: true,
        page: 'enable',
        pageSize: 15,
        width: '100%'
      }
    }
  });

  /**
   * Render the dataChart on the page whenever a new view is selected.
   */
   /*Edgar: I updated the ids value with the GA site ID to show that site data. You can use 'ids' instead and you will be able to use the view dropdown, which might be displayed none above  */
  viewSelector1.on('change', function(ids) {
    dataChart4.set({query: {ids: 'ga:81897402'}}).execute();
    dataChart6.set({query: {ids: 'ga:81897402'}}).execute();
    dataChart9.set({query: {ids: 'ga:81897402'}}).execute();
    dataChart1.set({query: {ids: 'ga:81897402'}}).execute();
    dataChart2.set({query: {ids: 'ga:81897402'}}).execute();
    dataChart7.set({query: {ids: 'ga:81897402'}}).execute();
    dataChart10.set({query: {ids: 'ga:81897402'}}).execute();
    dataChart11.set({query: {ids: 'ga:81897402'}}).execute();
  });

});
</script>
<!-- PIES -->
<script type="text/javascript">
  // Load the Visualization API and the piechart package.
  google.load('visualization', '1.0', {'packages':['corechart']});

  // Set a callback to run when the Google Visualization API is loaded.
  google.setOnLoadCallback(drawChart);

  // Callback that creates and populates a data table,
  // instantiates the pie chart, passes in the data and
  // draws it.
  function drawChart() {
    // Create the data table.
    var data1 = new google.visualization.DataTable();
    data1.addColumn('string', 'browsers');
    data1.addColumn('number', 'sessions');
    data1.addRows([
      ['Internet Explorer', 7028],
      ['Chrome', 6080],
      ['Firefox', 2233],
      ['Safari', 431],
      ['(not set)', 20],
      ['Android Browser', 9],
      ['Amazon Silk', 4],
      ['Opera', 2]
    ]);

    // Set chart options
    var options1 = {'width':425,
                   'height':425};

    // Instantiate and draw our chart, passing in some options.
    var chart1 = new google.visualization.PieChart(document.getElementById('chart_div1'));
    chart1.draw(data1, options1);

    // Create the data table.
    var data2 = new google.visualization.DataTable();
    data2.addColumn('string', 'browsers');
    data2.addColumn('number', 'sessions');
    data2.addRows([
      ['desktop', 15418],
      ['mobile', 331],
      ['tablet', 58]
    ]);

    // Set chart options
    var options2 = {'width':425,
                   'height':425};

    // Instantiate and draw our chart, passing in some options.
    var chart2 = new google.visualization.PieChart(document.getElementById('chart_div2'));
    chart2.draw(data2, options2);

    // Create the data table.
    var data3 = new google.visualization.DataTable();
    data3.addColumn('string', 'browsers');
    data3.addColumn('number', 'sessions');
    data3.addRows([
      ['Direct', 9777],
      ['Organic Search', 5888],
      ['Referral', 141],
      ['Social', 1],
    ]);

    // Set chart options
    var options3 = {'width':425,
                   'height':425};

    // Instantiate and draw our chart, passing in some options.
    var chart3 = new google.visualization.PieChart(document.getElementById('chart_div3'));
    chart3.draw(data3, options3);
  }
</script>
<!-- Load Includes -->
<script>$(".nav").load('includes/nav.html');</script>
<script>$("#footer1").load('includes/footer1.html');</script>
<script>$("#footer2").load('includes/footer2.html');</script>


</body>
</html>
